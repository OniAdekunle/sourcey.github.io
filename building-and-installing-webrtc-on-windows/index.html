<!doctype html> <html class=no-js lang=en> <head> <title>Building and Installing WebRTC on Windows | Sourcey</title> <meta charset=utf-8 /> <meta name=viewport content="width=device-width, initial-scale=1.0"/> <meta name=google-site-verification content=lC7-hHwqtiRqo7YTHc1fJ6t8ie-Hs7J4o5u3XRIF9Vw /> <link rel=alternate type="application/atom+xml" title="Atom Feed" href="/feed.xml"/> <link href="/stylesheets/app.css" media=screen rel=stylesheet /> <script src="/javascripts/all.js"></script> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-836728-7', 'sourcey.com');
      ga('send', 'pageview');
    </script> </head> <body class="article building-and-installing-webrtc-on-windows building-and-installing-webrtc-on-windows_index"> <nav class=top-bar data-topbar=""> <div class=top-bar-inner> <div id=social> <a rel="nofollow" href="https://github.com/sourcey"><i class=fi-social-github></i></a> <a href="https://twitter.com/sourceydevel"><i class=fi-social-twitter></i></a> <a href="https://plus.google.com/+SourceyDevel"><i class=fi-social-google-plus></i></a> <a href="https://facebook.com/sourceydevel"><i class=fi-social-facebook></i></a> </div> <ul class=title-area> <li class=name></li> <li class="toggle-topbar menu-icon"><a href="#" class=left></a></li> </ul> <section class=top-bar-section style="left: 0%;"> <ul class=left> <li class=home><a href="/">Home</a></li> <li class=has-dropdown><a href="/#projects">Projects</a> <ul class=dropdown><li class="title back js-generated"><h5><a href="javascript:void(0)">Back</a></h5></li> <li> <a href="/libsourcey"><b>LibSourcey</b><small>C++ networking evolved</small></a> </li> <li> <a href="/symple"><b>Symple</b><small>Messaging made Symple</small></a> </li> <li> <a href="/precompiled-webrtc-libraries"><b>WebRTC Builds</b><small>Precompiled WebRTC libraries</small></a> </li> <li> <a href="/anionu"><b>Anionu</b><small>Cloud video surveillance</small></a> </li> <li> <a href="http://stompstart.com"><b>StompStart</b><small>Promote your startup</small></a> </li> <li> <a href="/mesh"><b>Mesh</b><small>Elegant, modern design</small></a> </li> <li> <a href="/pacm"><b>Pacm</b><small>Redistributable package manager</small></a> </li> <li> <a href="/pluga"><b>Pluga</b><small>C++ plugin system</small></a> </li> <li> <a href="http://artzine.com"><b>Artzine</b><small>European Art Gallery and Marketplace</small></a> </li> <li> <a href="/recliner"><b>Recliner.js</b><small>Flexible lazy loading</small></a> </li> </ul> </li> <li class=has-dropdown><a href="/#articles">Articles</a> <ul class=dropdown> <li><a href="/archives">Archives</a></li> <li><a href="/feed.xml">Feed</a></li> </ul> </li> <li><a href="mailto:hello@sourcey.com">Contact</a></li> <li class=divider></li> </ul> </section> </div> </nav> <div id=main role=main> <article> <header class=article-header> <h1>Building and Installing WebRTC on Windows</h1> <div class=meta> <a rel="author external" class=author href="https://plus.google.com/+KamLow">Kam Low</a> &mdash; <time class=updated datetime="Sep 1 2017">Sep 1 2017</time> <div class=tags> <a href="/tags/webrtc/">WebRTC</a> </div> </div> </header> <div class="article-wrap row"> <div class="large-8 columns"> <div class=content> <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <p><img alt=WebRTC title=WebRTC class=align-left src="/images/logos/webrtc-250x250.png"> Installing WebRTC has left many a good developer balder than at the outset, but hopefully this guide will see you through unscathed.</p> <p>This guide is written specificaly for 64-bit Windows 10 to build WebRTC <code>branch-head/60</code>.</p> <h2 id=install-visual-studio>Install Visual Studio</h2> <ol> <li> <p>Install Visual Studio 2015 Update 3 or later. The Community Edition should work if its license is appropriate for you. Use the Custom Install option and select:</p> <ul> <li>Visual C++, which will select three sub-categories including MFC</li> <li>Universal Windows Apps Development Tools &gt; Tools</li> <li>Universal Windows Apps Development Tools &gt; Windows 10 SDK (10.0.10586)</li> </ul> </li> </ol> <h2 id=install-the-chromium-depot-tools>Install the Chromium depot tools</h2> <ol> <li> <p>Download <a href="https://storage.googleapis.com/chrome-infra/depot_tools.zip">depot_tools.zip</a> and decompress it.</p> </li> <li> <p>Add depot_tools to the end of your PATH:</p> <ul> <li>With Administrator access: <ul> <li><code>Control Panel &gt; System and Security &gt; System &gt; Advanced system settings</code></li> <li>Modify the PATH system variable to include depot_tools</li> </ul> </li> <li>Without Administrator access: <ul> <li><code>Control Panel &gt; User Accounts &gt; User Accounts &gt; Change my environment variables</code></li> <li>Add a PATH user variable: <code>%PATH%;C:\path\to\depot_tools</code> </li> </ul> </li> </ul> </li> <li> <p>Run <code>gclient</code> from the cmd shell. The first time it is run, it will install its own copy various tools.</p> </li> </ol> <h2 id=download-the-source-code>Download the source code</h2> <ol> <li> <p>Create a working directory, enter it, and run fetch WebRTC. This guide assumes a specific working folder structure. This operation starts from a base directory, eg., workspace and proceeds from there.</p> <div class=highlight><pre class="highlight shell"><code>mkdir webrtc-checkout
<span class="nb">cd </span>webrtc-checkout
fetch <span class="nt">--nohooks</span> webrtc
</code></pre></div> </li> <li> <p>Choose the stable release 60 rather than the most recent release by entering:</p> <div class=highlight><pre class="highlight shell"><code><span class="nb">cd </span>src
git branch <span class="nt">-r</span>
git checkout branch-heads/60
</code></pre></div> </li> <li> <p>Download the code</p> <div class=highlight><pre class="highlight shell"><code>gclient sync
</code></pre></div> </li> </ol> <p><strong>Note:</strong> <em>The download will take a while. Do not interrupt this step or you may need to start all over again (a new <code>gclient sync</code> may be enough, but you might also need wipe your <code>webrtc_checkout\src</code> folder and start over).</em></p> <h2 id=update-your-checkout>Update your checkout</h2> <p>To update an existing checkout, you can run:</p> <div class=highlight><pre class="highlight shell"><code>git rebase-update
gclient sync
</code></pre></div> <p>The first command updates the primary Chromium source repository and rebases any of your local branches on top of tip-of-tree (aka the Git branch <code>origin/master</code>). If you donâ€™t want to use this script, you can also just use git pull or other common Git commands to update the repo.</p> <p>The second command syncs the subrepositories to the appropriate versions and re-runs the hooks as needed.</p> <h2 id=building-webrtc-library>Building WebRTC library</h2> <p>After you downloading the code, you can start the build from the <code>webrtc_checkout\src</code> folder.</p> <p>The default configuration is for a 64-bit debug build:</p> <div class=highlight><pre class="highlight shell"><code>gn gen out/x64/Debug <span class="nt">--args</span><span class="o">=</span><span class="s2">"is_debug=true use_rtti=true target_cpu=</span><span class="se">\"</span><span class="s2">x64</span><span class="se">\"</span><span class="s2">"</span>
ninja <span class="nt">-C</span> out/x64/Debug boringssl field_trial_default protobuf_full p2p
</code></pre></div> <p>To create a 64-bit release build you must add <code>is_debug=true</code> to the GN args</p> <div class=highlight><pre class="highlight shell"><code>gn gen out/x64/Release--args<span class="o">=</span><span class="s2">"is_debug=false use_rtti=true target_cpu=</span><span class="se">\"</span><span class="s2">x64</span><span class="se">\"</span><span class="s2">"</span>
ninja <span class="nt">-C</span> out/x64/Release boringssl field_trial_default protobuf_full p2p
</code></pre></div> <p>For a fully optimized release build you can omit symbols and tests like by adding the following arguments <code>symbol_level=0 enable_nacl=false</code>.</p> <hr> <p>These instructions are derived from following links:</p> <ul> <li><a href="https://webrtc.org/native-code/development/">https://webrtc.org/native-code/development/</a></li> <li><a href="https://webrtc.org/native-code/development/prerequisite-sw/">https://webrtc.org/native-code/development/prerequisite-sw/</a></li> <li><a href="http://dev.chromium.org/developers/how-tos/install-depot-tools">http://dev.chromium.org/developers/how-tos/install-depot-tools</a></li> <li><a href="https://chromium.googlesource.com/chromium/src/+/master/docs/windows_build_instructions.md">https://chromium.googlesource.com/chromium/src/+/master/docs/windows_build_instructions.md</a></li> <li><a href="https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/quick_start.md">https://chromium.googlesource.com/chromium/src/+/master/tools/gn/docs/quick_start.md</a></li> </ul> </body></html> </div> </div> <div class="large-4 columns"> <div class=sidebar> <div class="sidebar-section toc"> <h4 class=no_toc id=contents>Contents</h4> <ul id=markdown-toc> <li><a id=markdown-toc-install-visual-studio href="#install-visual-studio">Install Visual Studio</a></li> <li><a id=markdown-toc-install-the-chromium-depot-tools href="#install-the-chromium-depot-tools">Install the Chromium depot tools</a></li> <li><a id=markdown-toc-download-the-source-code href="#download-the-source-code">Download the source code</a></li> <li><a id=markdown-toc-update-your-checkout href="#update-your-checkout">Update your checkout</a></li> <li><a id=markdown-toc-building-webrtc-library href="#building-webrtc-library">Building WebRTC library</a></li> </ul> </div> <div class="sidebar-section ad ad-300x250 sidebar-float"> <ins class=adsbygoogle style="display:inline-block;width:300px;height:600px" data-ad-client=ca-pub-1397369873900370 data-ad-slot=7510590887></ins> <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script> </div> </div> </div> </article> <div class=row> <div class=social-buttons> <ul> <li> <a href="http://twitter.com/share" class="socialite twitter-share" data-text="Building and Installing WebRTC on Windows" data-url="https://sourcey.com/building-and-installing-webrtc-on-windows/" data-count=vertical rel=nofollow target=_blank><span class=vhidden>Share on Twitter</span></a> </li> <li> <a href="https://plus.google.com/share?url=https://sourcey.com/building-and-installing-webrtc-on-windows/" class="socialite googleplus-one" data-size=tall data-href="https://sourcey.com/building-and-installing-webrtc-on-windows/" rel=nofollow target=_blank><span class=vhidden>Share on Google+</span></a> </li> <li> <a href="http://www.facebook.com/sharer.php?u=https://sourcey.com/building-and-installing-webrtc-on-windows/&amp;t=Building and Installing WebRTC on Windows" class="socialite facebook-like" data-href="https://sourcey.com/building-and-installing-webrtc-on-windows/" data-send=false data-layout=box_count data-width=60 data-show-faces=false rel=nofollow target=_blank><span class=vhidden>Share on Facebook</span></a> </li> <li> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://sourcey.com/building-and-installing-webrtc-on-windows/&amp;title=Building and Installing WebRTC on Windows" class="socialite linkedin-share" data-url="https://sourcey.com/building-and-installing-webrtc-on-windows/" data-counter=top rel=nofollow target=_blank><span class=vhidden>Share on LinkedIn</span></a> </li> </ul> </div> </div> <div id=disqus_thread></div> <script>
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'sourcey'; // required: replace example with your forum shortname

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel=nofollow>comments powered by Disqus.</a></noscript> <a href="http://disqus.com" rel=nofollow class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a> </div> <footer id=footer> <div class="row show-for-large-up"> <div class="ad ad-720x90 text-center"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class=adsbygoogle style="display:inline-block;width:728px;height:90px" data-ad-client=ca-pub-1397369873900370 data-ad-slot=8042301285></ins> <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
          </script> </div> </div> <p> As with all business minded artists, we have fought the inevitable battle of conformity vs expression, and have emerged victorious with sanity intact to plunder the digiverse in search of new and interesting challenges. For more information, or a quote, drop us an email and tell us what you're working on. </p> <p>&copy; 2016 Sourcey<p> </footer> </body> </html>