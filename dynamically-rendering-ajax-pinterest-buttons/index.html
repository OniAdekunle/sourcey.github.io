<!doctype html> <html class=no-js lang=en> <head> <title>Dynamically Rendering AJAX Pinterest Buttons | Sourcey</title> <meta charset=utf-8 /> <meta name=viewport content="width=device-width, initial-scale=1.0"/> <meta name=google-site-verification content=lC7-hHwqtiRqo7YTHc1fJ6t8ie-Hs7J4o5u3XRIF9Vw /> <link rel=alternate type="application/atom+xml" title="Atom Feed" href="/feed.xml"/> <link href="/stylesheets/app.css" media=screen rel=stylesheet /> <script src="/javascripts/all.js"></script> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-836728-7', 'sourcey.com');
      ga('send', 'pageview');
    </script> </head> <body class="article dynamically-rendering-ajax-pinterest-buttons dynamically-rendering-ajax-pinterest-buttons_index"> <nav class=top-bar data-topbar=""> <div class=top-bar-inner> <div id=social> <a rel="nofollow" href="https://github.com/sourcey"><i class=fi-social-github></i></a> <a href="https://twitter.com/sourceydevel"><i class=fi-social-twitter></i></a> <a href="https://plus.google.com/+SourceyDevel"><i class=fi-social-google-plus></i></a> <a href="https://facebook.com/sourceydevel"><i class=fi-social-facebook></i></a> </div> <ul class=title-area> <li class=name></li> <li class="toggle-topbar menu-icon"><a href="#" class=left></a></li> </ul> <section class=top-bar-section style="left: 0%;"> <ul class=left> <li class=home><a href="/">Home</a></li> <li class=has-dropdown><a href="/#projects">Projects</a> <ul class=dropdown><li class="title back js-generated"><h5><a href="javascript:void(0)">Back</a></h5></li> <li> <a href="/libsourcey"><b>LibSourcey</b><small>C++ networking evolved</small></a> </li> <li> <a href="/anionu"><b>Anionu</b><small>Cloud video surveillance</small></a> </li> <li> <a href="http://stompstart.com"><b>StompStart</b><small>Promote your startup</small></a> </li> <li> <a href="/symple"><b>Symple</b><small>Messaging made Symple</small></a> </li> <li> <a href="/mesh"><b>Mesh</b><small>Elegant, modern design</small></a> </li> <li> <a href="/pacm"><b>Pacm</b><small>Redistributable package manager</small></a> </li> <li> <a href="/pluga"><b>Pluga</b><small>C++ plugin system</small></a> </li> <li> <a href="http://artzine.com"><b>Artzine</b><small>European Art Gallery and Marketplace</small></a> </li> <li> <a href="/recliner"><b>Recliner.js</b><small>Flexible lazy loading</small></a> </li> </ul> </li> <li class=has-dropdown><a href="/#articles">Articles</a> <ul class=dropdown> <li><a href="/archives">Archives</a></li> <li><a href="/feed.xml">Feed</a></li> </ul> </li> <li><a href="mailto:hello@sourcey.com">Contact</a></li> <li class=divider></li> </ul> </section> </div> </nav> <div id=main role=main> <article> <header class=article-header> <h1>Dynamically Rendering AJAX Pinterest Buttons</h1> <div class=meta> <a rel="author external" class=author href="https://plus.google.com/+KamLow">Kam Low</a> &mdash; <time class=updated datetime="Mar 16 2014">Mar 16 2014</time> <div class=tags> <a href="/tags/pinterest/">Pinterest</a>, <a href="/tags/programming/">Programming</a>, <a href="/tags/code/">Code</a>, <a href="/tags/javascript/">JavaScript</a>, <a href="/tags/api/">API</a> </div> </div> </header> <div class="article-wrap row"> <div class="large-8 columns"> <div class=content> <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <p><a href="http://www.pinterest.com/sourcey/" title="Sourcey on Pinterest" target=_blank>Pinterest</a> is a pretty hot topic in Social Marketing right now. Their APIs and documentation are still quite underdeveloped, so over the course of my next few posts I will offering some up Pinterest hacking tips for developers.</p> <p>The first is how to render Pinterest buttons loaded dynamically using JavaScript. The Pinterest documentation is pretty scarce, so developers are left to trawl through the source code for some of the answers - but they are there!</p> <h2 id=method-one>Method one</h2> <p>The most common way to achieve this, although it’s not my preferred way, is by using the “data-pin-build” attribute of the script tag to map the function for rendering dynamic buttons.</p> <div class=highlight><pre class="highlight plaintext"><code>&lt;script defer="defer" src="//assets.pinterest.com/js/pinit.js" data-pin-build="parsePins"&gt;&lt;/script&gt;
</code></pre></div> <p>Buttons can now be rendered as follows:</p> <div class=highlight><pre class="highlight javascript"><code><span class="c1">// render buttons inside a scoped DOM element</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">parsePins</span><span class="p">(</span><span class="nx">pbtn</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>

<span class="c1">// render the whole page</span>
<span class="nb">window</span><span class="p">.</span><span class="nx">parsePins</span><span class="p">();</span>
</code></pre></div> <h2 id=method-two>Method two</h2> <p>An alternative method for people who like to hack in JavaScript, and don’t much like including a shit tonne of script tags in the page header can use this script as a starting point (yes it uses JQuery, but that can be easily substituted).</p> <div class=highlight><pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">Pinterest</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">load</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">.</span><span class="nx">getScript</span><span class="p">(</span><span class="s1">'//assets.pinterest.com/js/pinit.js'</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
    <span class="p">},</span>

    <span class="c1">// Get the Pinterest instance</span>
    <span class="na">get</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="k">in</span> <span class="nb">window</span><span class="p">)</span> <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="nx">i</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">'PIN_'</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nb">window</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'object'</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">window</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
         <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">},</span>

    <span class="c1">// Render Pinterest buttons</span>
    <span class="na">render</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="kd">get</span><span class="p">().</span><span class="nx">f</span><span class="p">.</span><span class="nx">render</span><span class="p">.</span><span class="nx">buttonPin</span><span class="p">(</span><span class="nx">el</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p>The script can be used like so:</p> <div class=highlight><pre class="highlight javascript"><code><span class="nx">Pinterest</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">Pinterest</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">'button-element'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]);</span>
<span class="p">});</span>
</code></pre></div> <p>Happy Pinterest hacking!</p> </body></html> </div> </div> <div class="large-4 columns"> <div class=sidebar> <div class="sidebar-section ad ad-300x250 sidebar-float"> <ins class=adsbygoogle style="display:inline-block;width:300px;height:600px" data-ad-client=ca-pub-1397369873900370 data-ad-slot=7510590887></ins> <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script> </div> </div> </div> </article> <div class=row> <div class=social-buttons> <ul> <li> <a href="http://twitter.com/share" class="socialite twitter-share" data-text="Dynamically Rendering AJAX Pinterest Buttons" data-url="https://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/" data-count=vertical rel=nofollow target=_blank><span class=vhidden>Share on Twitter</span></a> </li> <li> <a href="https://plus.google.com/share?url=https://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/" class="socialite googleplus-one" data-size=tall data-href="https://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/" rel=nofollow target=_blank><span class=vhidden>Share on Google+</span></a> </li> <li> <a href="http://www.facebook.com/sharer.php?u=https://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/&amp;t=Dynamically Rendering AJAX Pinterest Buttons" class="socialite facebook-like" data-href="https://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/" data-send=false data-layout=box_count data-width=60 data-show-faces=false rel=nofollow target=_blank><span class=vhidden>Share on Facebook</span></a> </li> <li> <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=https://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/&amp;title=Dynamically Rendering AJAX Pinterest Buttons" class="socialite linkedin-share" data-url="https://sourcey.com/dynamically-rendering-ajax-pinterest-buttons/" data-counter=top rel=nofollow target=_blank><span class=vhidden>Share on LinkedIn</span></a> </li> </ul> </div> </div> <div id=disqus_thread></div> <script>
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'sourcey'; // required: replace example with your forum shortname

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel=nofollow>comments powered by Disqus.</a></noscript> <a href="http://disqus.com" rel=nofollow class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a> </div> <footer id=footer> <div class="row show-for-large-up"> <div class="ad ad-720x90 text-center"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class=adsbygoogle style="display:inline-block;width:728px;height:90px" data-ad-client=ca-pub-1397369873900370 data-ad-slot=8042301285></ins> <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
          </script> </div> </div> <p> As with all business minded artists, we have fought the inevitable battle of conformity vs expression, and have emerged victorious with sanity intact to plunder the digiverse in search of new and interesting challenges. For more information, or a quote, drop us an email and tell us what you're working on. </p> <p>&copy; 2016 Sourcey<p> </footer> </body> </html>