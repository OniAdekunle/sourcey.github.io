<!doctype html> <html class=no-js lang=en> <head> <title>Symple | Sourcey</title> <meta charset=utf-8 /> <meta name=viewport content="width=device-width, initial-scale=1.0"/> <meta name=google-site-verification content=lC7-hHwqtiRqo7YTHc1fJ6t8ie-Hs7J4o5u3XRIF9Vw /> <link rel=alternate type="application/atom+xml" title="Atom Feed" href="/feed.xml"/> <link href="/stylesheets/app.css" media=screen rel=stylesheet /> <script src="/javascripts/all.js"></script> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-836728-7', 'sourcey.com');
      ga('send', 'pageview');
    </script> </head> <body class="page symple symple_index"> <nav class=top-bar data-topbar=""> <div class=top-bar-inner> <div id=social> <a rel="nofollow" href="https://github.com/sourcey"><i class=fi-social-github></i></a> <a href="https://twitter.com/sourceydevel"><i class=fi-social-twitter></i></a> <a href="https://plus.google.com/+SourceyDevel"><i class=fi-social-google-plus></i></a> <a href="https://facebook.com/sourceydevel"><i class=fi-social-facebook></i></a> </div> <ul class=title-area> <li class=name></li> <li class="toggle-topbar menu-icon"><a href="#" class=left></a></li> </ul> <section class=top-bar-section style="left: 0%;"> <ul class=left> <li class=home><a href="/">Home</a></li> <li class=has-dropdown><a href="/#projects">Projects</a> <ul class=dropdown><li class="title back js-generated"><h5><a href="javascript:void(0)">Back</a></h5></li> <li> <a href="/libsourcey"><b>LibSourcey</b><small>C++ networking evolved</small></a> </li> <li> <a href="/symple"><b>Symple</b><small>Messaging made Symple</small></a> </li> <li> <a href="/precompiled-webrtc-libraries"><b>WebRTC Builds</b><small>Precompiled WebRTC libraries</small></a> </li> <li> <a href="/anionu"><b>Anionu</b><small>Cloud video surveillance</small></a> </li> <li> <a href="http://stompstart.com"><b>StompStart</b><small>Promote your startup</small></a> </li> <li> <a href="/mesh"><b>Mesh</b><small>Elegant, modern design</small></a> </li> <li> <a href="/pacm"><b>Pacm</b><small>Redistributable package manager</small></a> </li> <li> <a href="/pluga"><b>Pluga</b><small>C++ plugin system</small></a> </li> <li> <a href="http://artzine.com"><b>Artzine</b><small>European Art Gallery and Marketplace</small></a> </li> <li> <a href="/recliner"><b>Recliner.js</b><small>Flexible lazy loading</small></a> </li> </ul> </li> <li class=has-dropdown><a href="/#articles">Articles</a> <ul class=dropdown> <li><a href="/archives">Archives</a></li> <li><a href="/feed.xml">Feed</a></li> </ul> </li> <li><a href="mailto:hello@sourcey.com">Contact</a></li> <li class=divider></li> </ul> </section> </div> </nav> <div id=main role=main> <article> <header class=article-header> <h1>Symple</h1> </header> <div class="article-wrap row"> <div class="large-9 columns"> <div class=content> <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"> <html><body> <dl class=status> <dt>Repositories</dt> <dd>Node.js Server: <a rel="nofollow" href="https://github.com/sourcey/symple-server-node">https://github.com/sourcey/symple-server-node</a><br> JavaScript Client: <a rel="nofollow" href="https://github.com/sourcey/symple-client">https://github.com/sourcey/symple-client</a><br> Ruby Client: <a rel="nofollow" href="https://github.com/sourcey/symple-client-ruby">https://github.com/sourcey/symple-client-ruby</a><br> C++ Client: <a rel="nofollow" href="https://github.com/sourcey/libsourcey">https://github.com/sourcey/libsourcey</a> </dd> <dt>Licence</dt> <dd>LGPL, <a href="/licence">Pro Licence</a> </dd> </dl> <p><img alt="Symple Logo" title="Symple Logo" class=align-left src="/images/logos/symple-120x120.png"> Symple is a messaging, presence and remoting protocol with implementations in C++ and JavaScript for fast real-time communication between native desktop and browser applications.</p> <p>Symple is an unrestrictive peer messaging and presence protocol, as the name would suggest, it’s a minimal and flexible protocol that is well suited to a “do-it-yourself” developer mentality.</p> <p>The message format is semantically similar to XMPP, except that it uses a vastly simplified syntax, and it uses JSON instead of XML for encoding messages. Symple has built-in support signalling support for messages, commands, forms and presence.</p> <p>The flexible nature of the JSON format also make it great for remoting and serializing data structures such as nested polymorphic objects.</p> <h2 id=client-implementations>Client implementations</h2> <p>There are currently three Symple client implementations, one in Ruby, one in JavaScript, and one in C++.</p> <p>The <a rel="nofollow" href="https://github.com/sourcey/symple-client-ruby">Ruby client</a> is a single drop-in module that is perfect for server-side integration with a web framework like Rails or Sinatra.</p> <p>The <a rel="nofollow" href="https://github.com/sourcey/symple-client">JavaScript client</a> provides a flexible interface for receiving standard and arbitrary message types. The client also includes a web player interface which enables Symple to be used in conjunction with MJPEG, FLV, h264 and WebRTC for live video streaming.</p> <p><a rel="nofollow" href="https://github.com/sourcey/libsourcey">LibSourcey</a> also contains includes a native C++ client and including samples for using Symple in native applications.</p> <h2 id=server-implementations>Server implementations</h2> <p>The <a rel="nofollow" href="https://github.com/sourcey/symple">Symple node.js server</a> repository includes sample server is implemented on a node.js stack.</p> <p>The server supports SSL configuration, groups, users, <code>x-real-ip</code> detection, and pre-arranged sessions using short-term authentication tokens via Redis.</p> <h2 id=why-symple>Why Symple</h2> <p>If you’ve had the pleasure of building a system to complex specifications then no doubt you’ll be familiar with the bloat indicative of such systems.</p> <p>In some cases it’s a necessity, but when it comes to a task like messaging, we prefer freedom of implementation rather than incumbent structure.</p> <p>Symple was created as a result of our work with <a href="https://anionu.com">Anionu</a>, for which we require real-time messaging, presence and command sharing between the native Spot client and online dashboard. Beyond that we hope to see Symple continue to adapt and develop as a great open source messaging solution.</p> <h2 id=protocol-specifications>Protocol Specifications</h2> <p>Below are the protocol specifications for Symple’s core message types.</p> <h3 id=address>Address</h3> <p>A Symple ID is the destination address of a group user or peer node on the server. It consists of 3 namespace segments, each segment that is included in a message’s destination address refines the delivery scope for that message. The purpose of namespacing peer addresses is so peers can be privately grouped.</p> <dl> <dt>Group</dt> <dd>Each peer on the Symple server belongs to a group namespace. A message directed to the group namespace will be dispatched to all nodes belonging to that group. <p><em>Example:</em> <code>{ to: "group" }</code></p> </dd> <dt>User</dt> <dd>Each peer on the Symple sever has an associated user name for the purposes of authentication and node grouping. A message directed to the user namespace will be dispatched to nodes belonging to that user. When directing a message to a user namespace, the group namespace MUST be included beforehand. <p><em>Example:</em> <code>{ to: "group@user" }</code></p> </dd> <dt>Session ID</dt> <dd>Each peer on the Symple sever has a session ID. The session ID acts is a unique identifier for each peer session. Messages may be directed to a specific peer by including the node ID in the destination address. When directing a message to a node ID, the node’s group and user namespaces MUST be included beforehand. <p><em>Example:</em> <code>{ to: "group@user/sessionid" }</code></p> </dd> </dl> <h3 id=message>Message</h3> <p>A symple message is a JSON object which acts as a container for data that is sent over the wire. There are 3 required message attributes:</p> <div class=highlight><pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"to"</span><span class="p">:</span> <span class="s2">"group@recipient/sessionid"</span><span class="p">,</span>      <span class="c1">// Recipient @see Symple ID (may be full or partial ID)</span>
  <span class="s2">"from"</span><span class="p">:</span> <span class="s2">"group@sender/sessionid"</span><span class="p">,</span>       <span class="c1">// Sender @see Symple ID (always full ID)</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"message"</span><span class="p">,</span>                      <span class="c1">// The type of message being sent, maybe a polymorphic type.</span>
<span class="p">}</span>
</code></pre></div> <p>Other frequently used but optional attributes include:</p> <div class=highlight><pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"data"</span><span class="p">:</span> <span class="p">{},</span>                             <span class="c1">// We recommend placing arbitrary message data inside a "data" attribute, but this is optional.  </span>
  <span class="s2">"notes"</span><span class="p">:</span> <span class="p">[</span>                              <span class="c1">// Notes can be added to messages like so.</span>
    <span class="p">{</span>
      <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"info"</span><span class="p">,</span>                     <span class="c1">// Note types: "info", "warn", "error"</span>
      <span class="s2">"text"</span><span class="p">:</span> <span class="s2">"ummm..."</span>
    <span class="p">}</span>
<span class="p">}</span>          
</code></pre></div> <p>From these meagre beginnings we can rapidly develop just about any kind of messaging system we want. As long as this simple message structure is adhered to data can be broadcast between scoped peers.</p> <h3 id=command>Command</h3> <p>Command messages allow us to send arbitrary commands peer. They are suited for sending either short or long running commands, and allow for status callbacks. A command request looks like this:</p> <div class=highlight><pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"to"</span><span class="p">:</span> <span class="s2">"responder"</span><span class="p">,</span>                      <span class="c1">// Responder</span>
  <span class="s2">"from"</span><span class="p">:</span> <span class="s2">"initiator"</span><span class="p">,</span>                    <span class="c1">// Initiator</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"command"</span><span class="p">,</span>                      <span class="c1">// Message type</span>
  <span class="s2">"node"</span><span class="p">:</span> <span class="s2">"some:node"</span><span class="p">,</span>                    <span class="c1">// The target command node or namespace</span>
  <span class="s2">"action"</span><span class="p">:</span> <span class="s2">"execute"</span>                     <span class="c1">// An optional command action</span>
<span class="p">}</span>
</code></pre></div> <p>A command response looks like this:</p> <div class=highlight><pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"to"</span><span class="p">:</span> <span class="s2">"initiator"</span><span class="p">,</span>                      <span class="c1">// Initiator</span>
  <span class="s2">"from"</span><span class="p">:</span> <span class="s2">"responder"</span><span class="p">,</span>                    <span class="c1">// Responder</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"command"</span><span class="p">,</span>
  <span class="s2">"node"</span><span class="p">:</span> <span class="s2">"some:node"</span><span class="p">,</span>
  <span class="s2">"status"</span><span class="p">:</span> <span class="mi">200</span>                           <span class="c1">// HTTP status codes are employed to describe the status of the command.</span>
<span class="p">}</span>                                         <span class="c1">// HTTP codes are generally 200, 202, 404, 406, 500 *</span>
</code></pre></div> <div class="panel callout radius"> <p>Command status callbacks for long running commands should use status 202 (Accepted) and 406 (Not accepted) to describe the command’s running status. All other response status codes will result in completion and termination of the command session.</p> </div> <h3 id=event>Event</h3> <p>Events allow peers to broadcast information about their running state to other peers.</p> <div class=highlight><pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"to"</span><span class="p">:</span> <span class="s2">"recipient"</span><span class="p">,</span>                      <span class="c1">// Recipient</span>
  <span class="s2">"from"</span><span class="p">:</span> <span class="s2">"sender"</span><span class="p">,</span>                       <span class="c1">// Sender</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"event"</span><span class="p">,</span>
  <span class="s2">"node"</span><span class="p">:</span> <span class="s2">"some:node"</span>                     <span class="c1">// The target event node</span>
<span class="p">}</span>
</code></pre></div> <h3 id=form>Form</h3> <p>Forms allow for peers to engage in configuration sessions. The forms data structure is designed to be easily interpreted by GUI renderers. Our JavaScript library includes support for displaying Symple forms as HTML. Forms objects generally piggyback on command messages. A basic form session is illustrated below:</p> <p>A form session is requested by the initiator:</p> <div class=highlight><pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"to"</span><span class="p">:</span> <span class="s2">"responder"</span><span class="p">,</span>                      <span class="c1">// Responder</span>
  <span class="s2">"from"</span><span class="p">:</span> <span class="s2">"initiator"</span><span class="p">,</span>                    <span class="c1">// Initiator</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"command"</span>
  <span class="s2">"node"</span><span class="p">:</span> <span class="s2">"some:node:config"</span>
<span class="p">}</span>
</code></pre></div> <p>The responder returns an empty form.</p> <div class=highlight><pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"to"</span><span class="p">:</span> <span class="s2">"initiator"</span><span class="p">,</span>                      <span class="c1">// Initiator</span>
  <span class="s2">"from"</span><span class="p">:</span> <span class="s2">"responder"</span><span class="p">,</span>                    <span class="c1">// Responder</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"command"</span><span class="p">,</span>
  <span class="s2">"node"</span><span class="p">:</span> <span class="s2">"some:node:config"</span><span class="p">,</span>
  <span class="s2">"status"</span><span class="p">:</span> <span class="mi">202</span><span class="p">,</span>                          <span class="c1">// Status 202 indicates the session is in progress</span>
  <span class="s2">"form"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"form"</span><span class="p">,</span>                       <span class="c1">// Type "forms" identifies the object </span>
    <span class="s2">"action"</span><span class="p">:</span> <span class="s2">"form"</span><span class="p">,</span>                     <span class="c1">// Actions: "form", "submit", "result"</span>
    <span class="s2">"elements"</span><span class="p">:</span> <span class="p">[</span>                         <span class="c1">// Forms support nested element arrays</span>
      <span class="p">{</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"page"</span><span class="p">,</span>                   <span class="c1">// Form fields optionally belong to a "page" or "section" element </span>
        <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"page 1"</span><span class="p">,</span>                <span class="c1">// Every element has a label</span>
        <span class="s2">"elements"</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"field1"</span><span class="p">,</span>               <span class="c1">// Uniquely identified this form field (like HTML's "name" attribute)</span>
            <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>               <span class="c1">// Form field types are as follows: </span>
            <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"field 1"</span><span class="p">,</span>           <span class="c1">//  "text", "text-multi", "list", "list-multi", "boolean", "media", "custom"              </span>
            <span class="s2">"options"</span><span class="p">:</span> <span class="p">{</span>                                            
              <span class="s2">"key1"</span><span class="p">:</span> <span class="s2">"value1"</span><span class="p">,</span>           <span class="c1">// The options hash holds key value data for "list" and "list-multi" types.             </span>
              <span class="s2">"key2"</span><span class="p">:</span> <span class="s2">"value2"</span><span class="p">,</span>        
              <span class="s2">"key3"</span><span class="p">:</span> <span class="s2">"value3"</span><span class="p">,</span>                
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">"values"</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"key1"</span> <span class="p">]</span>              <span class="c1">// The values array include the current value(s) for this field.</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p>The initiator receives and displays the form the responder. Once complete and the form data is updated an submit back to responder for processing and validation. Note the only fields that change here are the form’s “type” attribute which is set to “submit”, status code is removed, and the field value now equals “key2”.</p> <div class=highlight><pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"to"</span><span class="p">:</span> <span class="s2">"responder"</span><span class="p">,</span>                      <span class="c1">// Responder</span>
  <span class="s2">"from"</span><span class="p">:</span> <span class="s2">"initiator"</span><span class="p">,</span>                    <span class="c1">// Initiator</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"command"</span><span class="p">,</span>
  <span class="s2">"node"</span><span class="p">:</span> <span class="s2">"some:node:config"</span><span class="p">,</span>
  <span class="s2">"status"</span><span class="p">:</span> <span class="mi">202</span><span class="p">,</span>                          <span class="c1">// Status 202 indicates the session is in progress</span>
  <span class="s2">"form"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"form"</span><span class="p">,</span>
    <span class="s2">"action"</span><span class="p">:</span> <span class="s2">"submit"</span><span class="p">,</span>
    <span class="s2">"elements"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"page"</span><span class="p">,</span>
        <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"page 1"</span><span class="p">,</span>
        <span class="s2">"elements"</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"field1"</span><span class="p">,</span>
            <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
            <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"field 1"</span><span class="p">,</span>
            <span class="s2">"options"</span><span class="p">:</span> <span class="p">{</span>                                            
              <span class="s2">"key1"</span><span class="p">:</span> <span class="s2">"value1"</span><span class="p">,</span>
              <span class="s2">"key2"</span><span class="p">:</span> <span class="s2">"value2"</span><span class="p">,</span>
              <span class="s2">"key3"</span><span class="p">:</span> <span class="s2">"value3"</span><span class="p">,</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">"values"</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"key2"</span> <span class="p">]</span>              <span class="c1">// The values now equals "key2".</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p>The responder receives and and processes the form data. If any errors are encountered during validation, an error message may added to the field and form returned to the requester for review.</p> <p>For the purpose of our example validation failed and case the responder was unable to set the value to key2</p> <div class=highlight><pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"to"</span><span class="p">:</span> <span class="s2">"initiator"</span><span class="p">,</span>                      <span class="c1">// Initiator</span>
  <span class="s2">"from"</span><span class="p">:</span> <span class="s2">"responder"</span><span class="p">,</span>                    <span class="c1">// Responder</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"command"</span><span class="p">,</span>
  <span class="s2">"node"</span><span class="p">:</span> <span class="s2">"some:node:config"</span><span class="p">,</span>
  <span class="s2">"status"</span><span class="p">:</span> <span class="mi">202</span><span class="p">,</span>                          <span class="c1">// Status 202 indicates the session is in progress</span>
  <span class="s2">"form"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"form"</span><span class="p">,</span>
    <span class="s2">"action"</span><span class="p">:</span> <span class="s2">"result"</span><span class="p">,</span>
    <span class="s2">"elements"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"page"</span><span class="p">,</span>
        <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"page 1"</span><span class="p">,</span>
        <span class="s2">"elements"</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"field1"</span><span class="p">,</span>
            <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"page"</span><span class="p">,</span>
            <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
            <span class="s2">"error"</span><span class="p">:</span> <span class="s2">"key2 is invalid"</span><span class="p">,</span>   <span class="c1">// An error message described the problem </span>
            <span class="s2">"options"</span><span class="p">:</span> <span class="p">{</span>                                            
              <span class="s2">"key1"</span><span class="p">:</span> <span class="s2">"value1"</span><span class="p">,</span>
              <span class="s2">"key2"</span><span class="p">:</span> <span class="s2">"value2"</span><span class="p">,</span>     
              <span class="s2">"key3"</span><span class="p">:</span> <span class="s2">"value3"</span><span class="p">,</span>                
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">"values"</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"key1"</span> <span class="p">]</span>              <span class="c1">// The values now equals "key1" again since validation failed.</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p>The requester receives the form and displays the errors to the user. Once rectified the user submits the form again, this time selecting “key3”.</p> <div class=highlight><pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"to"</span><span class="p">:</span> <span class="s2">"responder"</span><span class="p">,</span>                      <span class="c1">// Responder</span>
  <span class="s2">"from"</span><span class="p">:</span> <span class="s2">"initiator"</span><span class="p">,</span>                    <span class="c1">// Initiator</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"command"</span><span class="p">,</span>
  <span class="s2">"node"</span><span class="p">:</span> <span class="s2">"some:node:config"</span><span class="p">,</span>
  <span class="s2">"form"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"form"</span><span class="p">,</span>
    <span class="s2">"action"</span><span class="p">:</span> <span class="s2">"submit"</span><span class="p">,</span>
    <span class="s2">"elements"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"page"</span><span class="p">,</span>
        <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"page 1"</span><span class="p">,</span>
        <span class="s2">"elements"</span><span class="p">:</span> <span class="p">[</span>
          <span class="p">{</span>
            <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"field1"</span><span class="p">,</span>
            <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"page"</span><span class="p">,</span>
            <span class="s2">"label"</span><span class="p">:</span> <span class="s2">"text"</span><span class="p">,</span>
            <span class="s2">"options"</span><span class="p">:</span> <span class="p">{</span>                                            
              <span class="s2">"key1"</span><span class="p">:</span> <span class="s2">"value1"</span><span class="p">,</span>
              <span class="s2">"key2"</span><span class="p">:</span> <span class="s2">"value2"</span><span class="p">,</span>
              <span class="s2">"key3"</span><span class="p">:</span> <span class="s2">"value3"</span><span class="p">,</span>                
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">"values"</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"key3"</span> <span class="p">]</span>              <span class="c1">// The values now equals "key3"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div> <p>Finally both peers have come to an agreement, the info is valid, contracts are signed, and the data is saved.</p> <p>The responding peer terminates the session by saying thanks:</p> <div class=highlight><pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"to"</span><span class="p">:</span> <span class="s2">"initiator"</span><span class="p">,</span>                      <span class="c1">// Initiator</span>
  <span class="s2">"from"</span><span class="p">:</span> <span class="s2">"responder"</span><span class="p">,</span>                    <span class="c1">// Responder</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"command"</span><span class="p">,</span>
  <span class="s2">"node"</span><span class="p">:</span> <span class="s2">"some:node:config"</span><span class="p">,</span>
  <span class="s2">"form"</span><span class="p">:</span> <span class="p">{</span> <span class="p">...</span> <span class="p">}</span>                         <span class="c1">// Form data is included in the response with "result" action.</span>
  <span class="s2">"status"</span><span class="p">:</span> <span class="mi">200</span>                           <span class="c1">// Status 200 signifies the session has ended in success. </span>
  <span class="s2">"notes"</span><span class="p">:</span> <span class="p">[</span>                              <span class="c1">// Status 404 or 500 would signify an unrecoverable session error.</span>
    <span class="p">{</span>
      <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"info"</span><span class="p">,</span>                     
      <span class="s2">"text"</span><span class="p">:</span> <span class="s2">"Form saved successfully!"</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div> <h2 id=contributing>Contributing</h2> <ol> <li>Fork it on Github</li> <li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li> <li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li> <li>Push to the branch (<code>git push origin my-new-feature</code>)</li> <li>Create new Pull Request</li> </ol> <h2 id=issues>Issues</h2> <p>If you come across any bugs or issues then please use the Github issue tracker.</p> </body></html> </div> </div> <div class="large-3 columns"> <div class="sidebar sidebar-float"> <div class="sidebar-section toc"> <h4 class=no_toc id=contents>Contents</h4> <ul id=markdown-toc> <li><a id=markdown-toc-client-implementations href="#client-implementations">Client implementations</a></li> <li><a id=markdown-toc-server-implementations href="#server-implementations">Server implementations</a></li> <li><a id=markdown-toc-why-symple href="#why-symple">Why Symple</a></li> <li> <a id=markdown-toc-protocol-specifications href="#protocol-specifications">Protocol Specifications</a> <ul> <li><a id=markdown-toc-address href="#address">Address</a></li> <li><a id=markdown-toc-message href="#message">Message</a></li> <li><a id=markdown-toc-command href="#command">Command</a></li> <li><a id=markdown-toc-event href="#event">Event</a></li> <li><a id=markdown-toc-form href="#form">Form</a></li> </ul> </li> <li><a id=markdown-toc-contributing href="#contributing">Contributing</a></li> <li><a id=markdown-toc-issues href="#issues">Issues</a></li> </ul> </div> <div class="sidebar-section ad ad-300x250"> <ins class=adsbygoogle style="display:inline-block;width:300px;height:250px" data-ad-client=ca-pub-1397369873900370 data-ad-slot=3472500885></ins> <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
                </script> </div> </div> </div> </div> </article> </div> <footer id=footer> <div class="row show-for-large-up"> <div class="ad ad-720x90 text-center"> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <ins class=adsbygoogle style="display:inline-block;width:728px;height:90px" data-ad-client=ca-pub-1397369873900370 data-ad-slot=8042301285></ins> <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
          </script> </div> </div> <p> As with all business minded artists, we have fought the inevitable battle of conformity vs expression, and have emerged victorious with sanity intact to plunder the digiverse in search of new and interesting challenges. For more information, or a quote, drop us an email and tell us what you're working on. </p> <p>&copy; 2016 Sourcey<p> </footer> </body> </html>